<!DOCTYPE html>
<html>
<head>
	<title>Google Maps App</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
	<meta charset="utf-8">
	<style>
	#map {
		height: 100%;
	}
	html, body {
		height: 100%;
		margin: 0;
		padding: 0;
	}
	</style>
</head>
<body>
	<div id="map"></div>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC5LQehvGfLC4CHVepASegsxKrDrB1Pugk"></script>
	<script>
		let map;
		let geocoder;

		function initMap() {
			// Create a new map centered on your location
			map = new google.maps.Map(document.getElementById("map"), {
				center: {lat: -33.8688, lng: 151.2093},
				zoom: 15
			});

			// Create a new geocoder instance
			geocoder = new google.maps.Geocoder();

			// Add a listener for the click event on the map
			map.addListener("click", function(event) {
				// Get the coordinates of the clicked location
				let latLng = event.latLng;

				// Call the reverse geocode function to get the address
				geocoder.geocode({location: latLng}, function(results, status) {
					if (status === "OK") {
						// Loop through the results to find the nearest road
						for (let i = 0; i < results.length; i++) {
							let addressComponents = results[i].address_components;
							for (let j = 0; j < addressComponents.length; j++) {
								let types = addressComponents[j].types;
								if (types.indexOf("route") !== -1) {
									// Print the name of the nearest road
									console.log(addressComponents[j].long_name);
									return;
								}
							}
						}
					} else {
						// Handle errors
						console.log("Geocode was not successful for the following reason: " + status);
					}
				});
			});
		}
	</script>
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC5LQehvGfLC4CHVepASegsxKrDrB1Pugk&callback=initMap"></script>
</body>
</html>
